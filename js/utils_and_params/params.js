var cam_factor_mod,loading_start_time=(new Date).getTime(),min_loading_time=5e3,debug=!0,cam_factor=4,aspect_ratio="0.5625",global_rot_x=-Math.PI/16,global_rot_y=Math.PI/16;const flickerInterval=100,flickerDuration=2e3,cycleDuration=5e3,cycleBackground=1e6,cycleBackgroundUpdate=100,rotThetaDelta=2*Math.PI*100/1e6,rotVectorBackground=new THREE.Vector3(0,0,1),rotMatrixStaticIncrement=new THREE.Matrix4;rotMatrixStaticIncrement.makeRotationAxis(rotVectorBackground,rotThetaDelta);const pigment_codes={"horizon, sunshine, grapefruit":["૟࿾྅࿥:ుඡɘ໭:࿽ณɺྱ:ο࿭ླ༤:๒າқ࿽ߌ:ศຳ͚໭:ະแɩ໌໮:ย࿂ƛྫ࿭",["Otti","Stölzl","Albers","Brandt","Koch-Otte","Arndt","Siedhoff-Buscher","Heymann"]],"night, embers, citrus":["གྷ࿖ɗ࿿đ:ྰึɺ࿽đ:࿽ณɺྱđ:ག࿀Ҍ࿽đ",["van der Rohe","Breuer","Gropius","Le Corbusier"]],"ivy, apatite, tourmaline":["Dྗ໚֊:ไཱུ࿆࿶ǌ:­h࿀࿽഑:ྰึɺΖ࿽:ྠŪ໭โ:࿍࿢ʽڃ๧࿾:༷໓їƩ໭:റඓu໊ࢗު",["O'Keeffe","Dalí","Matisse","Kandinsky","Chagall","Negreiros","Picasso","Klee"]],"sodalite, glacier, rust":["࿾റɇđ:Ņ໾ѩབ:໬ೋȤข:࿿ฒงZ׎:ྚIƌޮ૝࿿:Iպངྻ࿾:ൄ෮ͩȵ્",["Planck","Thomson","Einstein","Heisenberg","Bohr","Feynman","Dirac"]],"ocean, lapis, sulphur":["ĺɈɽڭ࿕:෿¿Y$:࿿૭ŭȤ࿒:đŘ࿃࿨৉",["Babbage","Lovelace","Leibniz","Boole"]],"moss, cedar, algae":["ђރவȡ࿿:೉Փ͂Ȳ:ŅƖࣙ೛࿭",["Zancan","Muir","Thoreau"]],"ink, steel, salt":["ޚ಺ොĤф:໬ȵĤĒ",["Hokusai","Hiroshige"]],"charcoal, papyrus, marble":["đđȢȢ̳:ೋ໬࿽໭࿿࿭:໬Ȣđ:໬ೋđ",["Charcoal","Marble","Adams","New York Times"]],"murex, rhodochrosite, marshmallow":["೯ཙ࿎࿮:ࠍഫྌ࿆໮:ĶԷ࠷ཇ࿽:κߊේྙ༷:๹ۍࡨ࿿:٘ޚඊ࿋:Ђԃ܅अ࿽:ขุщđ໭",["Minsky","Newell","Simon","McCarthy","Solomonoff","Shannon","von Neumann","Turing"]],"furnace, ruby, soot":["ःఃན࿀࿽:࿄໭ནྛ:࿽ณđ:ณขറ༤โฒྠྱ྅đ:໭ณđ࿌",["Kapoor","Golid","Busia","Judd","Malevich"]]},allel_pigments=[["horizon, sunshine, grapefruit",8],["night, embers, citrus",4],["ivy, apatite, tourmaline",8],["sodalite, glacier, rust",7],["ocean, lapis, sulphur",4],["moss, cedar, algae",3],["ink, steel, salt",2],["charcoal, papyrus, marble",4],["murex, rhodochrosite, marshmallow",8],["furnace, ruby, soot",5]],allel_pattern=[["noisy",2],["graded",3],["layered",3],["stacked",1],["composed",2]],allel_dimension=[["voxel",2],["pin",3],["stick",3],["needle",3],["wire",1]],allel_structure=[["cracks",1],["bands",1],["sheets",1],["unbiased",3]],allel_form=[["expressive",9],["monolithic",1]],allel_dissipation=[["clean",3],["fuzzy",1]],allel_attachment=[["tight",80],["detached",10],["loose",5],["floating",5]];var triptych=$fx.getParam("triptych_id"),pigments=gene_weighted_choice(allel_pigments),chosen_code=pigment_codes[pigments][0],decoded_palettes=chosen_code.split(":").map((e=>e.split("").map((e=>"#"+`00${e.charCodeAt(0).toString(16)}`.slice(-3))))),palette_idx=gene_rand_int(0,decoded_palettes.length),chosen_palette=decoded_palettes[palette_idx],palette_name=pigment_codes[pigments][1][palette_idx];shuffleArray(chosen_palette);var pattern=gene_weighted_choice(allel_pattern),noise_feature=gene_weighted_choice(allel_structure),noise_form=gene_weighted_choice(allel_form),noise_cull_rule=gene_weighted_choice(allel_dissipation),dimension_type=gene_weighted_choice(allel_dimension),attachment_type=gene_weighted_choice(allel_attachment),explosion_power=gene_range(5,15),explosion_center_a=new THREE.Vector3(gene_range(-200,200),gene_range(-200,200),0),explosion_strength=15e4*explosion_power,explosion_rot_range=Math.PI/2,explosion_rot_factor=20;